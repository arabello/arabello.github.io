import{w as h,a as c,p as r,v as f}from"./chunk-PVWAREVJ-DyyNGt94.js";import{B as g}from"./button-BCkynWF1.js";const j=h(function({loaderData:{post:t}}){const[m,d]=c.useState("");function x(o){try{const l=new DOMParser().parseFromString(o,"text/html"),e=(n,i)=>{l.querySelectorAll(n).forEach(a=>{const u=a.getAttribute("class");a.setAttribute("class",[u,i].filter(Boolean).join(" "))})};return e("h1","text-4xl font-bold tracking-tight text-balance mt-10 py-4"),e("h2","scroll-m-20 text-3xl font-semibold tracking-tight mt-10 first:mt-0"),e("h3","scroll-m-20 text-2xl font-semibold tracking-tight mt-8"),e("h4","scroll-m-20 text-xl font-semibold tracking-tight mt-6"),e("p","leading-7"),e("a","underline underline-offset-4 hover:text-primary/80"),e("hr","my-8 border-border"),e("img","rounded-md border"),e("ul","my-6 ml-6 list-disc [&>li]:mt-2"),e("ol","my-6 ml-6 list-decimal [&>li]:mt-2"),e("blockquote","mt-6 border-l-2 pl-6 italic text-muted-foreground"),e("pre","rounded-lg bg-muted p-4 text-sm overflow-x-auto"),e("pre code","bg-transparent p-0 text-inherit"),l.querySelectorAll("code").forEach(n=>{if(n.parentElement&&n.parentElement.tagName.toLowerCase()!=="pre"){const i=n.getAttribute("class");n.setAttribute("class",[i,"rounded bg-muted px-1 py-0.5 text-xs"].filter(Boolean).join(" "))}}),l.body.innerHTML}catch{return o}}return c.useEffect(()=>{t&&fetch(`/content/${t.htmlPath}`).then(o=>o.text()).then(o=>d(x(o)))},[t]),t?r.jsxs("article",{className:"space-y-4",children:[r.jsx("div",{children:r.jsx(g,{variant:"ghost",size:"sm",asChild:!0,children:r.jsx(f,{to:"/",children:"← Home"})})}),r.jsx("div",{className:"text-2xl font-bold",children:t.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:t.date}),r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:m}})]}):r.jsx("div",{className:"text-muted-foreground",children:"Post not found."})}),v=({data:s})=>{const t=s==null?void 0:s.post;return[{title:t!=null&&t.title?`${t.title} – Matteo Pellegrino`:"Post – Matteo Pellegrino"},{name:"description",content:(t==null?void 0:t.description)??"Blog post"}]};export{j as default,v as meta};
