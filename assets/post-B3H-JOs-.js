import{w as u,a as i,p as s,v as h}from"./chunk-PVWAREVJ-DyyNGt94.js";import{B as g}from"./button-BCkynWF1.js";const y=u(function({loaderData:{post:e}}){const[x,c]=i.useState("");function d(r){try{const o=new DOMParser().parseFromString(r,"text/html"),t=(l,a)=>{o.querySelectorAll(l).forEach(n=>{const p=n.getAttribute("class");n.setAttribute("class",[p,a].filter(Boolean).join(" "))})};return t("h1","text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight text-balance mt-8 sm:mt-10 py-3 sm:py-4"),t("h2","scroll-m-20 text-xl sm:text-2xl lg:text-3xl font-semibold tracking-tight mt-8 sm:mt-10 first:mt-0"),t("h3","scroll-m-20 text-lg sm:text-xl lg:text-2xl font-semibold tracking-tight mt-6 sm:mt-8"),t("h4","scroll-m-20 text-base sm:text-lg lg:text-xl font-semibold tracking-tight mt-4 sm:mt-6"),t("p","leading-6 sm:leading-7 text-sm sm:text-base break-words"),t("a","underline underline-offset-4 hover:text-primary/80 break-all hyphens-auto"),t("hr","my-6 sm:my-8 border-border"),t("img","rounded-md border w-full h-auto max-w-full"),t("sup","text-xs break-words"),t("em","break-words"),t("table","w-full max-w-full overflow-x-auto block whitespace-nowrap"),t("td, th","break-words max-w-0"),t("ul","my-4 sm:my-6 ml-4 sm:ml-6 list-disc [&>li]:mt-1 sm:[&>li]:mt-2 text-sm sm:text-base"),t("ol","my-4 sm:my-6 ml-4 sm:ml-6 list-decimal [&>li]:mt-1 sm:[&>li]:mt-2 text-sm sm:text-base"),t("blockquote","mt-4 sm:mt-6 border-l-2 pl-4 sm:pl-6 italic text-muted-foreground text-sm sm:text-base"),t("pre","rounded-lg bg-muted p-3 sm:p-4 text-xs sm:text-sm overflow-x-auto my-4 sm:my-6 max-w-full whitespace-pre-wrap break-words"),t("pre code","bg-transparent p-0 text-inherit break-words whitespace-pre-wrap"),o.querySelectorAll("code").forEach(l=>{if(l.parentElement&&l.parentElement.tagName.toLowerCase()!=="pre"){const a=l.getAttribute("class");l.setAttribute("class",[a,"rounded bg-muted px-1 py-0.5 text-xs sm:text-sm break-words"].filter(Boolean).join(" "))}}),o.body.innerHTML}catch{return r}}return i.useEffect(()=>{e&&fetch(`/content/${e.htmlPath}`).then(r=>r.text()).then(r=>c(d(r)))},[e]),e?s.jsxs("article",{className:"space-y-6 sm:space-y-8",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(g,{variant:"ghost",size:"sm",asChild:!0,className:"text-sm",children:s.jsx(h,{to:"/",children:"← Home"})})}),s.jsxs("header",{className:"space-y-3 sm:space-y-4",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold leading-tight text-balance",children:e.title}),s.jsx("div",{className:"text-sm sm:text-base text-muted-foreground",children:e.date})]}),s.jsx("div",{className:"prose prose-sm sm:prose-base lg:prose-lg max-w-none prose-headings:scroll-mt-20 prose-pre:overflow-x-auto prose-pre:text-xs sm:prose-pre:text-sm overflow-hidden",dangerouslySetInnerHTML:{__html:x}})]}):s.jsx("div",{className:"text-muted-foreground",children:"Post not found."})}),k=({data:m})=>{const e=m==null?void 0:m.post;return[{title:e!=null&&e.title?`${e.title} – Matteo Pellegrino`:"Post – Matteo Pellegrino"},{name:"description",content:(e==null?void 0:e.description)??"Blog post"}]};export{y as default,k as meta};
